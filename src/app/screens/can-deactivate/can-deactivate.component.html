<div class="screen-container">
  <form [formGroup]="accountForm" novalidate nosubmit class="form-reset">
    <div class="workshop-row mb-24">
      <div class="info-col">
        <span class="mat-h3"
          >Using an abstract formComponent, window:beforeUnload event and a canDeactivate guard to handle
          exiting a form:</span
        ><br />
        <br />
        <span
          >1. Refreshing the page will only trigger the browsers built in refresh warning if the form has
          changes.</span
        ><br /><br /><span
          >2. All other navigation will trigger the apps unsaved changes dialog if the form has changes.</span
        >
      </div>

      <div class="control-col">
        <div class="control-container mt-24">
          <mat-form-field floatLabel="always" appearance="outline">
            <mat-label>Membership number</mat-label>
            <input
              matInput
              type="number"
              formControlName="membershipId"
              placeholder="Enter account number"
              data-test="account-membership-input"
              autocomplete="off"
              autocapitalize="off"
              (keydown)="suppressNegatives($event)"
            />
            <mat-error
              validationError
              [control]="getControl.membershipId"
              [testSelector]="'account-membership-error'"
            >
            </mat-error>
          </mat-form-field>
        </div>
        <div class="control-container">
          <mat-form-field floatLabel="always" appearance="outline">
            <mat-label>First name</mat-label>
            <input
              matInput
              formControlName="firstName"
              placeholder="Enter first name"
              data-test="account-first-name-input"
              autocomplete="off"
              autocapitalize="off"
            />
            <mat-error
              validationError
              [control]="getControl.firstName"
              [testSelector]="'account-first-name-error'"
            >
            </mat-error>
          </mat-form-field>
        </div>
        <div class="control-container">
          <mat-form-field floatLabel="always" appearance="outline">
            <mat-label>Last name</mat-label>
            <input
              matInput
              formControlName="lastName"
              placeholder="Enter last name"
              data-test="account-last-name-input"
              autocomplete="off"
              autocapitalize="off"
            />
            <mat-error
              validationError
              [control]="getControl.lastName"
              [testSelector]="'account-last-name-error'"
            >
            </mat-error>
          </mat-form-field>
        </div>
      </div>

      <div class="values-col">
        <div class="errors-object">
          <pre>
Form changes: {{ hasChanges }}

Current membershipId value: {{ getControl.membershipId?.value | json }}
membershipId errors: {{ getControl.membershipId?.errors | json }}

Current firstName value: {{ getControl.firstName?.value | json }}
firstName errors: {{ getControl.firstName?.errors | json }}

Current lastName value: {{ getControl.lastName?.value | json }}
lastName errors: {{ getControl.lastName?.errors | json }}</pre
          >
        </div>
      </div>
    </div>
    <!--     <div class="workshop-row mb-24">
      <div class="info-col mat-h3">Number display</div>
      <div class="control-col">
        <div class="control-container">
          <div class="number-display">
            {{ getControl.membershipId?.value | number: "1.2-2" }}
          </div>
        </div>
      </div>
      <div class="values-col">
        <div class="errors-object"></div>
      </div>
    </div> -->
  </form>
</div>
